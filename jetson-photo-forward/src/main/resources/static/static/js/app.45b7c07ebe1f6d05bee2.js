webpackJsonp([1],{NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("7+uW"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=o("VU/8")({name:"App"},a,!1,function(e){o("gsu9")},null,null).exports,l=o("/ocq"),i={data:function(){return{fileList:[],filename:""}},created:function(){this.connectWebsocket()},methods:{beforeAvatarUpload:function(e){if(!(e.size/1024/1024<50))return this.$message.warning("上传文件大小不能超过 50MB!"),!1},submitUpload:function(){this.$refs.upload.submit()},connectWebsocket:function(){var e=this,t=this,o=void 0;if("undefined"==typeof WebSocket)console.log("您的浏览器不支持WebSocket");else{(o=new WebSocket("wss://gaoyuanwang.top/websocket/user")).onopen=function(){o.send("发送数据"),console.log("websocket发送数据中")},o.onmessage=function(o){t.filename=o.data,console.log("websocket返回的数据：",o),e.axios.get("/cartoonDownload",{params:{filename:t.filename},responseType:"blob"}).then(function(e){console.log(e);var t=e.data,o=new FileReader;o.readAsDataURL(t),o.onload=function(e){var t=new Image;t.src=e.target.result,document.body.appendChild(t)}}).catch(function(e){console.log(e)})},o.onerror=function(e){console.log("websocket错误：",e)},o.onclose=function(e){console.log("websocket关闭：",e)}}},camera:function(){this.axios.get("/cameraCatch",{responseType:"blob"}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}}},c={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-container",[o("el-main",[o("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"https://gaoyuanwang.top/photoUpload","before-upload":e.beforeAvatarUpload,"file-list":e.fileList,"auto-upload":!1}},[o("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件")])],1),e._v(" "),o("br"),e._v(" "),o("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.camera}},[e._v("使用Jetson板载摄像头捕捉人脸")])],1),e._v(" "),o("el-footer",[o("el-link",{attrs:{href:"https://beian.miit.gov.cn",target:"_blank"}},[e._v("皖ICP备2021017566号")])],1)],1)],1)},staticRenderFns:[]};var r=o("VU/8")(i,c,!1,function(e){o("QWpt")},null,null).exports;n.default.use(l.a);var u=new l.a({routes:[{path:"/",name:"PhotoUpload",component:r}]}),p=o("mtWM"),f=o("aLYK"),d=o("zL8q"),g=o.n(d);o("tvR6");p.a.defaults.baseURL="https://gaoyuanwang.top",n.default.use(f.a,p.a),n.default.use(g.a),n.default.config.productionTip=!1,new n.default({el:"#app",router:u,components:{App:s},template:"<App/>"})},QWpt:function(e,t){},gsu9:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.45b7c07ebe1f6d05bee2.js.map